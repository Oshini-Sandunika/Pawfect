<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pawfect Match – Start</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

   <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">

  
  <link rel="stylesheet" href="css/quiz.css">
</head>
<body>

  <div class="page">
    <div class="container">
      <header class="header">
        <p class="badge">Pawfect Match</p>
        <h1>What are you looking for today?</h1>
        <p class="lead">
          Choose dogs or cats first. We’ll ask different questions to help you find the right breed.
        </p>
      </header>

      <main class="options">
        <a href="#dog-quiz" class="card">
          <img src="images/dog.webp" alt="Dog" class="card-image">
          <div class="card-body">
            <h2>I'm into dogs</h2>
            <p>
              From tiny lap dogs to big adventure buddies. Start here to find dog breeds that fit your life.
            </p>
            <span class="card-link">Start dog quiz →</span>
          </div>
        </a>

        <a href="#cat-quiz" class="card">
          <img src="images/cat.jpg" alt="Cat" class="card-image">
          <div class="card-body">
            <h2>I'm into cats</h2>
            <p>
              Cuddly, independent, or playful. Start here to find cat breeds that match your home and routine.
            </p>
            <span class="card-link">Start cat quiz →</span>
          </div>
        </a>
      </main>

      <footer class="footer">
        <p>No sign-ups, no tracking. Just a simple way to explore breeds.</p>
      </footer>

    </div>
  </div>

  <section id="dog-quiz" class="quiz-section">
    <h2 class="quiz-title">Dog Breed Quiz</h2>

    <div id="dog-quiz-container" class="quiz-card">
      <div id="progress-container">
        <div id="progress-bar"></div>
      </div>
      <div id="question-box">
        <h3 id="question-text"></h3>
        <div id="options"></div>
      </div>

      <button id="next-btn" class="quiz-btn" disabled>Next</button>
      <button id="back-btn" class="quiz-btn secondary-btn hidden">Back</button>


      <div id="result-box" class="hidden">
        <h3>Your Ideal Dog Type</h3>
        <p id="dog-result"></p>
        <button id="restart-btn" class="quiz-btn">Start Again</button>
      </div>
    </div>
  </section>



  <section id="cat-quiz">
    <h2>Cat Quiz</h2>
    <!-- cat quiz questions go here -->
  </section>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const questionText = document.getElementById("question-text");
      const optionsBox   = document.getElementById("options");
      const nextBtn      = document.getElementById("next-btn");
      const resultBox    = document.getElementById("result-box");
      const resultText   = document.getElementById("dog-result");

      const backBtn = document.getElementById("back-btn");

      /* ------------------------------------------
      FULL 10-QUESTION DOG QUIZ WITH BREED SCORING
      ------------------------------------------ */
      const dogQuestions = [
      {
        q: "How active is your daily lifestyle?",
        options: {
          "Very active (running, hiking daily)": "very_active",
          "Moderately active": "moderate_active",
          "Lightly active": "light_active",
          "Mostly relaxed / indoors": "low_active"
        }
      },
      {
        q: "How much living space do you have?",
        options: {
          "Large house with yard": "large_space",
          "Medium house/apartment": "medium_space",
          "Small apartment": "small_space",
          "Tiny living space / studio": "tiny_space"
        }
      },
      {
        q: "How much grooming can you manage?",
        options: {
          "High grooming (daily brushing okay)": "high_groom",
          "Medium grooming": "medium_groom",
          "Low grooming only": "low_groom",
          "Minimal (almost no grooming)": "minimal_groom"
        }
      },
      {
        q: "What is your experience with dogs?",
        options: {
          "Experienced dog owner": "experienced",
          "Some experience": "intermediate",
          "Beginner": "beginner",
          "Never owned a dog": "first_time"
        }
      },
      {
        q: "What size dog do you prefer?",
        options: {
          "Small": "size_small",
          "Medium": "size_medium",
          "Large": "size_large",
          "No preference": "size_any"
        }
      },
      {
        q: "How trainable should your dog be?",
        options: {
          "Highly trainable": "high_train",
          "Medium trainability": "medium_train",
          "Low trainability": "low_train",
          "Doesn't matter": "train_any"
        }
      },
      {
        q: "How much barking can you tolerate?",
        options: {
          "Very low (quiet dogs only)": "quiet_only",
          "Some barking is okay": "some_noise",
          "Barking doesn’t bother me": "noise_ok",
          "I prefer vocal dogs": "vocal"
        }
      },
      {
        q: "What climate suits your home best?",
        options: {
          "Cold climate": "cold_climate",
          "Warm climate": "warm_climate",
          "Both / mixed": "mixed_climate",
          "Hot climate only": "hot_climate"
        }
      },
      {
        q: "How much time daily can you dedicate to your dog?",
        options: {
          "5+ hours": "time_5",
          "2–4 hours": "time_3",
          "1–2 hours": "time_1",
          "Less than 1 hour": "time_low"
        }
      },
      {
        q: "Do you need a family- and kid-friendly dog?",
        options: {
          "Very important": "family_high",
          "Somewhat important": "family_medium",
          "Not important": "family_low",
          "Not needed": "family_none"
        }
      }
    ];

    /* ------------------------------------------
       BREED SCORING
    ------------------------------------------ */

    let breedScores = {
      "Labrador Retriever": 0,
      "Golden Retriever": 0,
      "German Shepherd": 0,
      "Border Collie": 0,
      "Husky": 0,
      "Beagle": 0,
      "French Bulldog": 0,
      "Pug": 0,
      "Shih Tzu": 0,
      "Corgi": 0
    };

    /* ------------------------------------------
       SCORING MATRIX
       Each answer boosts certain breeds
    ------------------------------------------ */

    function applyScore(answer) {
      switch (answer) {
        case "very_active":
          breedScores["Border Collie"] += 3;
          breedScores["Husky"] += 3;
          breedScores["German Shepherd"] += 2;
          breedScores["Labrador Retriever"] += 1;
          break;

        case "moderate_active":
          breedScores["Golden Retriever"] += 2;
          breedScores["Labrador Retriever"] += 2;
          breedScores["Beagle"] += 1;
          break;

        case "light_active":
          breedScores["French Bulldog"] += 2;
          breedScores["Corgi"] += 1;
          break;

        case "low_active":
          breedScores["Pug"] += 3;
          breedScores["Shih Tzu"] += 2;
          break;

        /* --- Space --- */

        case "large_space":
          breedScores["German Shepherd"] += 2;
          breedScores["Husky"] += 2;
          breedScores["Border Collie"] += 1;
          break;

        case "medium_space":
          breedScores["Golden Retriever"] += 1;
          breedScores["Labrador Retriever"] += 1;
          break;

        case "small_space":
          breedScores["French Bulldog"] += 2;
          breedScores["Pug"] += 2;
          break;

        case "tiny_space":
          breedScores["Shih Tzu"] += 2;
          breedScores["Corgi"] += 1;
          break;

        /* --- Grooming --- */

        case "high_groom":
          breedScores["Shih Tzu"] += 2;
          break;

        case "medium_groom":
          breedScores["Golden Retriever"] += 1;
          break;

        case "low_groom":
          breedScores["Labrador Retriever"] += 1;
          breedScores["Beagle"] += 1;
          break;

        case "minimal_groom":
          breedScores["Husky"] += 1;  
          break;

        /* --- Experience --- */

        case "experienced":
          breedScores["German Shepherd"] += 2;
          breedScores["Husky"] += 1;
          break;

        case "intermediate":
          breedScores["Beagle"] += 1;
          break;

        case "beginner":
          breedScores["Golden Retriever"] += 2;
          breedScores["Labrador Retriever"] += 2;
          break;

        case "first_time":
          breedScores["Corgi"] += 1;
          breedScores["Pug"] += 1;
          break;

        /* --- Size --- */

        case "size_small":
          breedScores["Pug"] += 2;
          breedScores["Corgi"] += 1;
          breedScores["Shih Tzu"] += 1;
          breedScores["French Bulldog"] += 1;
          break;

        case "size_medium":
          breedScores["Beagle"] += 1;
          breedScores["Corgi"] += 1;
          break;

        case "size_large":
          breedScores["Golden Retriever"] += 2;
          breedScores["German Shepherd"] += 2;
          breedScores["Husky"] += 1;
          break;

        /* --- Trainability --- */

        case "high_train":
          breedScores["Golden Retriever"] += 2;
          breedScores["German Shepherd"] += 2;
          breedScores["Border Collie"] += 3;
          break;

        case "medium_train":
          breedScores["Labrador Retriever"] += 1;
          break;

        case "low_train":
          breedScores["Beagle"] += 1; // stubborn
          break;

        /* --- Barking --- */

        case "quiet_only":
          breedScores["Shih Tzu"] += 2;
          breedScores["French Bulldog"] += 1;
          break;

        case "some_noise":
          breedScores["Golden Retriever"] += 1;
          break;

        case "noise_ok":
          breedScores["Beagle"] += 1;
          break;

        case "vocal":
          breedScores["Husky"] += 2;
          breedScores["Beagle"] += 1;
          break;

        /* --- Climate --- */

        case "cold_climate":
          breedScores["Husky"] += 3;
          break;

        case "warm_climate":
          breedScores["Pug"] += 1;
          breedScores["Shih Tzu"] += 1;
          breedScores["Beagle"] += 1;
          break;

        case "hot_climate":
          breedScores["Beagle"] += 2;
          break;

        /* --- Time --- */

        case "time_5":
          breedScores["Border Collie"] += 2;
          breedScores["German Shepherd"] += 1;
          break;

        case "time_3":
          breedScores["Golden Retriever"] += 1;
          break;

        case "time_1":
          breedScores["French Bulldog"] += 1;
          break;

        case "time_low":
          breedScores["Pug"] += 2;
          break;

        /* --- Family friendliness --- */

        case "family_high":
          breedScores["Golden Retriever"] += 3;
          breedScores["Labrador Retriever"] += 3;
          breedScores["Beagle"] += 1;
          break;

        case "family_medium":
          breedScores["Corgi"] += 1;
          break;

        case "family_low":
          breedScores["Husky"] += 1;
          break;
      }
    }

    function recalculateScores() {
      // Reset scores
      for (let breed in breedScores) {
        breedScores[breed] = 0;
      }

      // Re-apply based on selected answers
      selectedAnswers.forEach(answer => {
        if (answer) applyScore(answer);
      });
    }

    /* ------------------------------------------
       QUIZ ENGINE (UI)
    ------------------------------------------ */

    let currentQuestion = 0;
    let selectedAnswers = [];

    const totalQuestions = dogQuestions.length;

    function updateProgressBar() {
        const progress = ((currentQuestion) / totalQuestions) * 100;
        document.getElementById("progress-bar").style.width = progress + "%";
    }


    function loadQuestion() {
      updateProgressBar();
      backBtn.classList.toggle("hidden", currentQuestion === 0);
      backBtn.onclick = () => {
        if (!resultBox.classList.contains("hidden")) return;

        if (currentQuestion > 0) {
          currentQuestion--;
          recalculateScores();
          loadQuestion();
        }
      };

      const q = dogQuestions[currentQuestion];
      questionText.textContent = q.q;
      nextBtn.disabled = true;

      optionsBox.innerHTML = "";

      Object.keys(q.options).forEach(option => {
        const btn = document.createElement("button");
        btn.textContent = option;
        btn.className = "option-btn";

        btn.onclick = () => {
          document.querySelectorAll(".option-btn")
            .forEach(b => b.classList.remove("selected"));

          btn.classList.add("selected");

          selectedAnswers[currentQuestion] = q.options[option];
          nextBtn.disabled = false;
        };

        optionsBox.appendChild(btn);
      });
    }

    nextBtn.onclick = () => {
      // Move to next question
      currentQuestion++;

      // Recalculate scores based on updated answers
      recalculateScores();

      // If quiz is not finished → load next question
      if (currentQuestion < dogQuestions.length) {
        loadQuestion();
      } 
      // If quiz is finished → show results
      else {
        finalizeResults();
      }
    };


    function finalizeResults() {
      document.getElementById("progress-bar").style.width = "100%";

      document.getElementById("question-box").classList.add("hidden");
      nextBtn.classList.add("hidden");
      resultBox.classList.remove("hidden");

      const topBreeds = Object.entries(breedScores)
        .sort((a, b) => b[1] - a[1])
        .slice(0, 3)
        .map(b => b[0]);

      resultText.innerHTML = `
        <strong>Top Recommendations:</strong><br>
        • ${topBreeds[0]}<br>
        • ${topBreeds[1]}<br>
        • ${topBreeds[2]}
      `;
    }

    loadQuestion();

    document.getElementById("restart-btn").onclick = function() {
      // Reset everything
      currentQuestion = 0;
      selectedAnswers = [];

      // Reset breed scores
      for (let breed in breedScores) {
          breedScores[breed] = 0;
      }

      // Reset UI
      resultText.innerHTML = ""; // Clear recommendations
      resultBox.classList.add("hidden"); 
      nextBtn.classList.remove("hidden");
      backBtn.classList.add("hidden");
      document.getElementById("question-box").classList.remove("hidden");

      // Reset progress bar
      document.getElementById("progress-bar").style.width = "0%";

      // Load first question
      loadQuestion();
    };

    });
  </script>
</body>
</html>
